<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link href="http://cdn.bootcss.com/normalize/5.0.0/normalize.min.css" rel="stylesheet">
</head>
<style>
    a{
        text-decoration: none;
    }
    ul,li{
        list-style: none;
        margin: 0;
        padding: 0;
    }

    .solider{
        position: relative;
        height: 280px;
        width: 350px;
        margin: 0 auto;
        overflow: hidden;
    }
    .img-ct{
        width:1400px;
        position: absolute;
        left: -350px;
    }
    .img-ct:after{
        display: block;
        content:'';
        clear: both;
    }
    .img-ct>li{
        top: 0;
        left: 0;
        float: left;
    }
    .img-ct img{
        height: 280px;
        width: 350px;
    }
    .btn{
        position: absolute;
        top: 50%;
        margin-top: -15px;
        display: block;
        height: 30px;
        width: 30px;
        border-radius: 50%;
        background: #333;
        opacity: 0.6;
        color: #fff;
        text-align: center;
        line-height: 30px;
    }
    .btn-pre{
       left: 10px;
    }
    .btn-next{
        right: 10px;
    }
    .bullet{
        position: absolute;
        left: 0;
        right:0;
        bottom: 20px;
        text-align: center;
    }

    .bullet>li{
        display: inline-block;
        width: 20px;
        height: 5px;
        border-radius: 3px;
        background: #fff;
        margin: 0 5px;
    }
    .bullet .active{
        background: yellow;
    }

</style>

<body>
<div class="solider">
    <ul class="img-ct">
        <li data-index="0"><a href=""><img src="img/1.jpg" alt=""></a></li>
        <li data-index="1"><a href=""><img src="img/2.jpg" alt=""></a></li>
        <li data-index="2"><a href=""><img src="img/3.jpg" alt=""></a></li>
        <li data-index="3"><a href=""><img src="img/4.jpg" alt=""></a></li>
    </ul>
    <a class="btn btn-pre" href=""><span>&lt;</span></a>
    <a class="btn btn-next"href=""><span>&gt;</span></a>
    <ul class="bullet">
        <li class="active"></li
        ><li></li
        ><li></li
        ><li></li>
    </ul>
</div>
<div class="solider">
    <ul class="img-ct">
        <li data-index="0"><a href=""><img src="img/1.jpg" alt=""></a></li>
        <li data-index="1"><a href=""><img src="img/2.jpg" alt=""></a></li>
        <li data-index="2"><a href=""><img src="img/3.jpg" alt=""></a></li>
        <li data-index="3"><a href=""><img src="img/4.jpg" alt=""></a></li>
    </ul>
    <a class="btn btn-pre" href=""><span>&lt;</span></a>
    <a class="btn btn-next"href=""><span>&gt;</span></a>
    <ul class="bullet">
        <li class="active"></li
        ><li></li
    ><li></li
    ><li></li>
    </ul>
</div>
<script src="http://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
<script>

      /*   function carousel($ct){
              this.$ct = $ct;
              this.init();
              this.bind();
          }
    carousel.prototype.init = function(){
                var $imgCt = this.$imgCt = this.$ct.find('.img-ct'),
                    $preBtn = this.$preBtn = this.$ct.find('.btn-pre');
                    $nextBtn = this.$nextBtn = this.$ct.find('.btn-next');
                    $bullet = this.$bullet =this.$ct.find('.bullet');

                  var $firstImg =this.$firstImg =$imgCt.find('li').last(),
                      $lastImg =this.$lastImg =$imgCt.find('li').first();

                     this.curPageIndex = 0;
                     this.imgLength = $imgCt.children().length;
                     this.isAnimate = false;
                     $imgCt.prepend($firstImg.clone());
                     $imgCt.append($lastImg.clone());
                     $imgCt.width($firstImg.width()*$imgCt.children().length);
               };
         carousel.prototype.bind = function(){
             var _this = this;
             this.$imgCt .on('click',function(e){
                 e.preventDefault()
             });
             this.$preBtn.on('click',function(e){
                 e.preventDefault();
                 _this.playPre();
             });
             this.$nextBtn.on('click',function(e){
                 e.preventDefault();
                 _this.playNext();
             });
             this.$bullet.find('li').on('click',function(){
                 var idx = $(this).index();
                 _this.bullet(idx);
                 _this.play(idx)
             });
         };
         carousel.prototype.playNext = function(){
             var _this = this;
             if(this.isAnimate) return;
             this.isAnimate = true;
             this.$imgCt.animate({
                 left: '-='+350
             },function(){
                 _this.curPageIndex++;
                 if(_this.curPageIndex === _this.imgLength){
                     _this.$imgCt.css({left:-350});
                     _this.curPageIndex = 0;
                 }
                 _this.isAnimate = false;
                 _this.bullet(_this.curPageIndex);
             });
         };
         carousel.prototype.playPre = function(){
             var _this = this;
             if(this.isAnimate) return;
             this.isAnimate = true;
             this.$imgCt.animate({
                 left:'+='+350
             },function(){
                 _this.curPageIndex--;
                 if(_this.curPageIndex<0){
                     _this.$imgCt.css({left:-(_this.imgLength*_this.$firstImg.width())});
                     _this.curPageIndex = _this.imgLength-1
                 }
                 _this.isAnimate = false;
                 _this.bullet(_this.curPageIndex);
             })
         };
         carousel.prototype.play = function(n){
             var _this = this;
             if(this.isAnimate) return;
             this.isAnimate = true;
             this.$imgCt.animate({
                 left: '+='+350*(this.curPageIndex-n)
             },function(){
                 _this.curPageIndex = n;
                 _this.isAnimate = false;
                 _this.bullet(_this.curPageIndex);
             });

         }
         carousel.prototype.bullet = function(n){
             this.$bullet.children()
                     .removeClass('active')
                     .eq(n)
                     .addClass('active')
         }
       //  var carousel1 = new carousel($('.solider').eq(0));
      //   var carousel2 = new carousel($('.solider').eq(1))

*/

    var carousel = (function(){
        function _carousel($ct){
            this.$ct = $ct;
            this.init();
            this.bind();
        }
        _carousel.prototype.init = function(){
            var $imgCt = this.$imgCt = this.$ct.find('.img-ct'),
                    $preBtn = this.$preBtn = this.$ct.find('.btn-pre');
            $nextBtn = this.$nextBtn = this.$ct.find('.btn-next');
            $bullet = this.$bullet =this.$ct.find('.bullet');

            var $firstImg =this.$firstImg =$imgCt.find('li').last(),
                    $lastImg =this.$lastImg =$imgCt.find('li').first();

            this.curPageIndex = 0;
            this.imgLength = $imgCt.children().length;
            this.isAnimate = false;
            $imgCt.prepend($firstImg.clone());
            $imgCt.append($lastImg.clone());
            $imgCt.width($firstImg.width()*$imgCt.children().length);
        };
        _carousel.prototype.bind = function(){
            var _this = this;
            this.$imgCt .on('click',function(e){
                e.preventDefault()
            });
            this.$preBtn.on('click',function(e){
                e.preventDefault();
                _this.playPre();
            });
            this.$nextBtn.on('click',function(e){
                e.preventDefault();
                _this.playNext();
            });
            this.$bullet.find('li').on('click',function(){
                var idx = $(this).index();
                _this.bullet(idx);
                _this.play(idx)
            });
        };
        _carousel.prototype.playNext = function(){
            var _this = this;
            if(this.isAnimate) return;
            this.isAnimate = true;
            this.$imgCt.animate({
                left: '-='+350
            },function(){
                _this.curPageIndex++;
                if(_this.curPageIndex === _this.imgLength){
                    _this.$imgCt.css({left:-350});
                    _this.curPageIndex = 0;
                }
                _this.isAnimate = false;
                _this.bullet(_this.curPageIndex);
            });
        };
       _carousel.prototype.playPre = function(){
            var _this = this;
            if(this.isAnimate) return;
            this.isAnimate = true;
            this.$imgCt.animate({
                left:'+='+350
            },function(){
                _this.curPageIndex--;
                if(_this.curPageIndex<0){
                    _this.$imgCt.css({left:-(_this.imgLength*_this.$firstImg.width())});
                    _this.curPageIndex = _this.imgLength-1
                }
                _this.isAnimate = false;
                _this.bullet(_this.curPageIndex);
            })
        };
        _carousel.prototype.play = function(n){
            var _this = this;
            if(this.isAnimate) return;
            this.isAnimate = true;
            this.$imgCt.animate({
                left: '+='+350*(this.curPageIndex-n)
            },function(){
                _this.curPageIndex = n;
                _this.isAnimate = false;
                _this.bullet(_this.curPageIndex);
            });

        }
        _carousel.prototype.bullet = function(n){
            this.$bullet.children()
                    .removeClass('active')
                    .eq(n)
                    .addClass('active')
        }

        return {
            init:function($ct){
                $ct.each(function(index,node){
                    new _carousel($(node))
                })
            }
        }
    })();
        carousel.init($('.solider'))
</script>
</body>
</html>